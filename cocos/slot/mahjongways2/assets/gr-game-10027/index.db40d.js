window.__require=function t(e,o,i){function n(a,l){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var c="function"==typeof __require&&__require;if(!l&&c)return c(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var p=o[a]={exports:{}};e[a][0].call(p.exports,function(t){return n(e[a][1][t]||t)},p,p.exports,t,e,o,i)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<i.length;a++)n(i[a]);return n}({MW2Animation:[function(t,e,o){"use strict";cc._RF.push(e,"70cccHxFPpNKqteSiob3pGt","MW2Animation");var i=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../../../common/utils/CommonTool"),r=t("../../../common/script/symbol/SymbolItem"),a=t("../../../common/script/data/ReelDataSetting"),l=t("./MW2ExplodeReelsController"),s=t("../symbol/MW2SymbolItem"),c=cc._decorator,p=c.ccclass,u=c.property,h=function(){function t(){this.node=null,this.maskNode=null,this.symbolNode=null,this.numBoxNode=null,this.label=null,this.multipleSp=null,this.multiplePortraitSp=null,this.multipleNode=null,this.multiplePortraitNode=null,this.isFree=!1,this.winInfoListIndex=0,this.explodeList=[],this.audioController=null}return t.prototype.init=function(t,e,o,i){this.audioController=i,this.reelsController=t,this.finishFunc=e,this.addWinPointFunc=o,this.explodeReelsController=new l.default(t),this.reset()},t.prototype.reset=function(){this.node.active=!1,this.numBoxNode&&(this.numBoxNode.active=!1),this.label.string="",this.label.node.getParent().opacity=255,this.explodeList=[],this.maskNode.active=!1,this.maskNode.opacity=0},t.prototype.start=function(t){this.winInfoListIndex=0,this.spinItem=t,this.startAnimation()},t.prototype.startAnimation=function(){var t=this;this.reset();var e=this.spinItem.win_info_list[this.winInfoListIndex];return e?e.win_lines?(cc.audioEngine.playEffect(this.audioController.symbolWin,!1),this.showAllWinSymbol()?(this.maskNode.active=!0,this.node.active=!0,this.numBoxNode&&(this.numBoxNode.opacity=100,this.numBoxNode.active=!0,cc.tween(this.numBoxNode).to(.3,{opacity:255}).start()),void cc.tween(this.maskNode).to(.3,{opacity:125}).delay(.5).call(function(){t.numBoxNode&&(t.numBoxNode.active=!0),t.playWinAnimation()}).start()):(console.log("\u7d50\u675f\u6d88\u9664 no showAllWinSymbol"),void this.finish())):(console.log("\u7d50\u675f\u6d88\u9664 no win_lines"),void this.finish()):(console.log("\u7d50\u675f\u6d88\u9664 no winInfoList"),void this.finish())},t.prototype.showAllWinSymbol=function(){var t=this,e=this.spinItem.win_info_list[this.winInfoListIndex],o=e.win_lines.map(function(t){return t.win_point}).reduce(function(t,e){return t+e});return 0!==o&&(this.addWinPointFunc(o),this.label.string=n.numberWithCommas(o.toFixed(2)),this.explodeReelsController.forEach(function(o,i,n){if(t.explodeList[o]=t.explodeList[o]||[],t.isWin(e.win_lines,o,i)){t.explodeList[o][i]=!0;var a=n.getComponent(r.default);t.settingSymbolNode(a,t.symbolNode)}else t.explodeList[o][i]=!1}),!0)},t.prototype.isWin=function(t,e,o){return t.some(function(t){return t.is_win_position[e][o]})},t.prototype.playWinAnimation=function(){var t=this,e=!1,o=[],i=this.spinItem.win_info_list[this.winInfoListIndex];if(i.win_lines.length>=2){var r=n.randomInteger(1,0);this.audioController.payMultiWinVoices[r]&&cc.audioEngine.playEffect(this.audioController.payMultiWinVoices[r],!1)}else{for(var l=cc.tween(this.node),c=function(e){var o=i.win_lines[e];l.call(function(){var e=o.symbol_id;t.audioController.symbolVoices[e]&&cc.audioEngine.playEffect(t.audioController.symbolVoices[e],!1)}).delay(.5)},p=0;p<i.win_lines.length;p++)c(p);l.start()}this.explodeReelsController.forEach(function(i,n,r){if(t.explodeList[i][n]){o[i]=o[i]?o[i]:[];var a=r.getComponent(s.default),l=a.playWin();o[i].push(a),e||(e=l)}});var u=cc.tween(this),h=function(t){u.call(function(){for(var e=0;e<o[t].length;e++)o[t][e].playWin(!0)}).delay(.1)};for(p=0;p<o.length;p++)h(p);u.start(),console.log("win symbol::::::::::::",o);var m=a.ReelDataSettingObj.getSpeed();cc.tween(this.maskNode).delay(.1).to(.5*m,{opacity:0}).start(),console.log(e),cc.tween(this.label.node.getParent()).delay(.6*m).call(function(){cc.audioEngine.playEffect(t.audioController.explodeSymbol,!1)}).to(.3,{opacity:0}).delay(e?.85*m:.45*m).call(function(){return t.startExplode()}).start()},t.prototype.settingSymbolNode=function(t,e){var o=n.convertNodeParentVec2(e,t.node);return t.node.setPosition(o),t.node.setParent(e),o},t.prototype.startExplode=function(){this.explodeReelsController.init(this),this.explodeReelsController.startExplode()},t.prototype.multipleNodeActive=function(t){this.multipleNode.active=t,this.multiplePortraitNode.active=t},t.prototype.changeMultiple=function(t){var e=this.changeMultipleItem(t,this.multipleNode,this.multipleSp);this.changeMultipleItem(t,this.multiplePortraitNode,this.multiplePortraitSp),e&&(cc.audioEngine.playEffect(this.audioController.changeMultiples[t-1],!1),0==this.isFree?cc.audioEngine.playEffect(this.audioController.changeMultipleVoices[t-1],!1):cc.audioEngine.playEffect(this.audioController.freeChangeMultipleVoices[t],!1))},t.prototype.playFreeChangeMultiple=function(t){this.changeMultipleItem(t,this.multipleNode,this.multipleSp),this.changeMultipleItem(t,this.multiplePortraitNode,this.multiplePortraitSp)},t.prototype.changeMultipleItem=function(t,e,o){var i=e.getChildByName(t+"");if(i){if(this.closeAllMultipleChildren(e),i.active=!0,t>0){i.zIndex=1,o.node.active=!0,o.node.setParent(e);var n=i.getPosition().clone();return n=n.sub(cc.v2(3,2)),o.node.setPosition(n),o.node.zIndex=0,o.setAnimation(0,"multiple",!0),!0}return!1}return!1},t.prototype.closeAllMultipleChildren=function(t){t.children.forEach(function(t){return t.active=!1})},t.prototype.finish=function(){this.clear(),this.finishFunc()},t.prototype.clear=function(){this.multipleSp.clearTracks(),this.multipleSp.node.active=!1,this.multiplePortraitSp.clearTracks(),this.multiplePortraitSp.node.active=!1},i([u(cc.Node)],t.prototype,"node",void 0),i([u(cc.Node)],t.prototype,"maskNode",void 0),i([u(cc.Node)],t.prototype,"symbolNode",void 0),i([u(cc.Node)],t.prototype,"numBoxNode",void 0),i([u(cc.Label)],t.prototype,"label",void 0),i([u(sp.Skeleton)],t.prototype,"multipleSp",void 0),i([u(sp.Skeleton)],t.prototype,"multiplePortraitSp",void 0),i([u(cc.Node)],t.prototype,"multipleNode",void 0),i([u(cc.Node)],t.prototype,"multiplePortraitNode",void 0),i([u(cc.Boolean)],t.prototype,"isFree",void 0),i([p("MW2Animation")],t)}();o.default=h,cc._RF.pop()},{"../../../../../common/utils/CommonTool":void 0,"../../../common/script/data/ReelDataSetting":void 0,"../../../common/script/symbol/SymbolItem":void 0,"../symbol/MW2SymbolItem":"MW2SymbolItem","./MW2ExplodeReelsController":"MW2ExplodeReelsController"}],MW2AudioController:[function(t,e,o){"use strict";cc._RF.push(e,"8fb09AATIZMcqlPEjTMgdt7","MW2AudioController");var i=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,a=n.property,l=function(){function t(){this.maxBet=null,this.btnClick=null,this.bonus=null,this.changeMultiples=[],this.changeMultipleVoices=[],this.freeChangeMultipleVoices=[],this.symbolWin=null,this.explodeSymbol=null,this.baseBgMusic=null,this.baseSpinMusic=null,this.freeSpinMusic=null,this.freeStart=null,this.freeEnd=null,this.topScroll=null,this.topScrollEnd=null,this.fgDragonFly=null,this.expect=null,this.expectSuccess=null,this.expectFailed=null,this.hit=null,this.freeSpinRoundUp=null,this.freeMultipleRefresh=null,this.freeTotalWinLoop=null,this.freeTotalWinEnd=null,this.payMultiWinVoices=[],this.symbolVoices=[],this.randomVoices=[]}return i([a(cc.AudioClip)],t.prototype,"maxBet",void 0),i([a(cc.AudioClip)],t.prototype,"btnClick",void 0),i([a(cc.AudioClip)],t.prototype,"bonus",void 0),i([a(cc.AudioClip)],t.prototype,"changeMultiples",void 0),i([a(cc.AudioClip)],t.prototype,"changeMultipleVoices",void 0),i([a(cc.AudioClip)],t.prototype,"freeChangeMultipleVoices",void 0),i([a(cc.AudioClip)],t.prototype,"symbolWin",void 0),i([a(cc.AudioClip)],t.prototype,"explodeSymbol",void 0),i([a(cc.AudioClip)],t.prototype,"baseBgMusic",void 0),i([a(cc.AudioClip)],t.prototype,"baseSpinMusic",void 0),i([a(cc.AudioClip)],t.prototype,"freeSpinMusic",void 0),i([a(cc.AudioClip)],t.prototype,"freeStart",void 0),i([a(cc.AudioClip)],t.prototype,"freeEnd",void 0),i([a(cc.AudioClip)],t.prototype,"topScroll",void 0),i([a(cc.AudioClip)],t.prototype,"topScrollEnd",void 0),i([a(cc.AudioClip)],t.prototype,"fgDragonFly",void 0),i([a(cc.AudioClip)],t.prototype,"expect",void 0),i([a(cc.AudioClip)],t.prototype,"expectSuccess",void 0),i([a(cc.AudioClip)],t.prototype,"expectFailed",void 0),i([a(cc.AudioClip)],t.prototype,"hit",void 0),i([a(cc.AudioClip)],t.prototype,"freeSpinRoundUp",void 0),i([a(cc.AudioClip)],t.prototype,"freeMultipleRefresh",void 0),i([a(cc.AudioClip)],t.prototype,"freeTotalWinLoop",void 0),i([a(cc.AudioClip)],t.prototype,"freeTotalWinEnd",void 0),i([a(cc.AudioClip)],t.prototype,"payMultiWinVoices",void 0),i([a(cc.AudioClip)],t.prototype,"symbolVoices",void 0),i([a(cc.AudioClip)],t.prototype,"randomVoices",void 0),i([r("MW2AudioController")],t)}();o.default=l,cc._RF.pop()},{}],MW2BaseGame:[function(t,e,o){"use strict";cc._RF.push(e,"ef756uNRcNMspHzB/QV94rV","MW2BaseGame");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function a(t){try{s(i.next(t))}catch(e){r(e)}}function l(t){try{s(i.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,l)}s((i=i.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(l){r=[6,l],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../common/script/game/SlotBasicGame"),c=t("../service/MW2GameService"),p=t("../../../../../common/utils/SingletonFactory"),u=t("../../../common/script/game/SlotGameDescriptor"),h=t("../../../common/script/game/SlotGameEnums"),m=t("../../../../common/script/ui/UIController"),d=t("../../../../../common/language/BetLanguage"),S=t("../../../../../common/language/OtherLanguage"),g=t("../../../common/script/symbol/SymbolItem"),f=t("../../../../../common/utils/CommonTool"),y=t("../../../common/script/auto/SlotAutoSetting"),v=t("../other/MW2SlotGameStatus"),b=t("../../../common/script/data/ReelDataSetting"),N=t("../../../common/script/utils/SlotTopWin"),_=t("../animation/MW2Animation"),I=cc._decorator,P=I.ccclass,C=I.property,T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.topWin=null,e.animation=null,e.totalWinPoint=0,e.winPoint=0,e.topWinPoint=0,e.isEnterFreeGame=!1,e.isBackFromFreeGame=!1,e.isStartSpin=!1,e.spinAudioId=-1,e}var o,i,s,I,T,G,R,E,L,A;return n(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this.gameService=p.SingletonFactory.getInstance(c.MW2GameService),this.gameService.gameController.slotAutoSetting.node.on(y.default.START_AUTO_EVENT,this.startAuto,this),this.animation.init(this.reelsController,this.animationFinish.bind(this),this.addWinPoint.bind(this),this.gameService.gameController.audioController)},e.prototype.startAuto=function(t){if(t){var e=this.gameService.getBetItem().bet;this.gameStatus===h.SlotGameStatus.FINISH?this.gameService.gameController.slotAutoSetting.updateAutoTimes(this.userDetail.totalMoney,e)&&this.onSpin():this.spinBtn.enabled&&this.onSpin()}},Object.defineProperty(e.prototype,"scrollWinPoint",{get:function(){return this.winPoint},set:function(t){this.winPoint=t,this.winPointLabel.string=f.numberWithCommas(t.toFixed(2)),this.isEnterFreeGame||(this.totalPointLabel.string=f.numberWithCommas((this.userDetail.totalMoney+t).toFixed(2)))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollTopWinPoint",{get:function(){return this.topWinPoint},set:function(t){this.topWinPoint=t;var e=f.numberWithCommas(t.toFixed(2));this.winPointLabel.string=e,this.topWin.updateLabel(e)},enumerable:!1,configurable:!0}),e.prototype.animationFinish=function(){this.changeStatus(h.SlotGameStatus.ANIMATION_FINISH)},e.prototype.addWinPoint=function(t){this.scrollWinPoint+=t},e.prototype[o=h.SlotGameStatus.IDLE]=function(){this.animation.changeMultiple(0),this.scrollWinPoint=0,this.orderIdLabel.setValue({zhTW:"",zhCN:"",en:""});var t=this.gameService.getBetItem().bet;return this.gameService.isReplay&&this.gameService.spinList.length===this.gameService.spinListIndex+1?(this.gameService.showReplayAgain(),this.nextGameStatus=null,!1):this.userDetail.totalMoney-t>=0?(this.isStartSpin=!0,this.changeButtonEnable(!1,this.gameService.isReplay),this.userDetail.totalMoney-=t,this.scrollWinPoint=0,this.nextGameStatus=h.SlotGameStatus.SEND_SERVER_SPIN,this.spinAudioId=cc.audioEngine.playEffect(this.gameService.gameController.audioController.baseSpinMusic,!0),void this.spinBtnAnimation(h.SpinStatus.CLICK)):(console.log("IDLE"),this.changeButtonEnable(!0,this.gameService.isReplay),this.gameService.checkMaxBetIndex(this.userDetail.totalMoney,!0),m.default.ShowSlotPromptSetting(d.default.NoEnoughRemainPointErr(),null),!1)},e.prototype[i=h.SlotGameStatus.SEND_SERVER_SPIN]=function(){this.gameService.gameController.stopCountRandomVoice(),this.gameStatus=h.SlotGameStatus.SEND_SERVER_SPIN,this.reelsController.startScroll()},e.prototype[s=h.SlotGameStatus.SPIN]=function(){return a(this,void 0,void 0,function(){var t,e,o,i;return l(this,function(){for(t=this.gameService.spinList[this.gameService.spinListIndex],e=[],o=0;o<this.reelsController.reelList.length;o++)for(e[o]=[],i=t.win_info_list.length-1;i>=0;i--)e[o]=e[o].concat(t.win_info_list[i].ready_cascade_frame[o]);return cc.log("ready_cascade_frames:::::::::::::::",e),this.reelsController.setCascadeFrame(e),this.reelsController.setReelPosition(t.win_info_list[0].reel_position,t.win_info_list[0].origin_frame),this.orderIdLabel.setValue(S.default.SlotRoundStr(t.order_id)),this.gameStatus=h.SlotGameStatus.SPIN,[2]})})},e.prototype[I=h.SlotGameStatus.SPIN_FINISH]=function(){return a(this,void 0,void 0,function(){var t,e;return l(this,function(o){switch(o.label){case 0:return console.log("SPIN_FINISH"),this.changeButtonEnable(!1,this.gameService.isReplay),cc.audioEngine.stopEffect(this.spinAudioId),t=this.gameService.spinList[this.gameService.spinListIndex],e=!1,this.reelsController.reelList.forEach(function(t){t.getMidSymbolList().forEach(function(t){"2"===t.name?e=!0:t.getComponent(g.default).playIdle()})}),[4,f.sleep(e?800:500)];case 1:return o.sent(),t.win_point>0?(this.totalWinPoint=t.win_point,this.nextGameStatus=h.SlotGameStatus.ANIMATION_START):this.gameService.spinList.length>1?this.nextGameStatus=h.SlotGameStatus.FREE_ANIMATION_START:this.nextGameStatus=h.SlotGameStatus.FINISH,[2]}})})},e.prototype[T=h.SlotGameStatus.ANIMATION_START]=function(){var t=this.gameStatus===h.SlotGameStatus.WAIT_FOR_FREE_GAME_LEAVE?0:this.gameService.spinListIndex,e=this.gameService.spinList[t];this.animation.start(e),console.log("base ANIMATION_START")},e.prototype[G=h.SlotGameStatus.ANIMATION_FINISH]=function(){return a(this,void 0,void 0,function(){var t;return l(this,function(){return this.scrollWinPoint=this.totalWinPoint,this.userDetail.totalMoney+=this.totalWinPoint,this.gameService.spinList.length>1?(console.log("free game start"),this.nextGameStatus=h.SlotGameStatus.FREE_ANIMATION_START):(t=this.gameService.getBetItem().bet,this.checkBigWin(this.totalWinPoint,t)?this.nextGameStatus=v.default.TOP_WIN_ANIMATION:(this.clearAnimation(!1),this.nextGameStatus=h.SlotGameStatus.FINISH)),[2]})})},e.prototype[R=h.SlotGameStatus.FREE_ANIMATION_START]=function(){var t=this.gameService.gameController;this.isEnterFreeGame=!0,cc.audioEngine.stopAllEffects(),cc.audioEngine.playEffect(t.audioController.bonus,!1),this.closeEvents(),this.changeButtonEnable(!1,this.gameService.isReplay),t.slotAutoBtn.changeEnable(!1),t.changeBaseToFree()},e.prototype[E=h.SlotGameStatus.WAIT_FOR_FREE_GAME_LEAVE]=function(){return a(this,void 0,void 0,function(){var t,e,o;return l(this,function(){return this.reelsController.node.active=!0,this.isEnterFreeGame=!1,this.isBackFromFreeGame=!0,this.changeButtonEnable(!1,this.gameService.isReplay),(t=this.gameService.gameController).slotAutoBtn.changeEnable(!0),cc.audioEngine.stopAll(),this.totalWinPoint=t.freeGame.scrollWinPoint,this.userDetail.totalMoney+=t.freeGame.scrollWinPoint,this.scrollWinPoint=0,this.startEvents(),e=this.gameService.getBetItem().bet,o=this.checkBigWin(this.totalWinPoint,e),this.nextGameStatus=o?v.default.TOP_WIN_ANIMATION:h.SlotGameStatus.FINISH,[2]})})},e.prototype[L=v.default.TOP_WIN_ANIMATION]=function(){var t=this;if(console.log("TOP_WIN_ANIMATION",this.totalWinPoint),this.scrollTopWinPoint=0,b.ReelDataSettingObj.getSkipWinScroll())this.nextGameStatus=h.SlotGameStatus.FINISH;else{this.changeButtonEnable(!0,this.gameService.isReplay,!0);var e=this.gameService.getBetItem().bet,o=this.scrollPointTime(e,this.totalWinPoint,0);cc.audioEngine.playEffect(this.gameService.gameController.audioController.topScroll,!0),cc.tween(this).to(2*o,{scrollTopWinPoint:this.totalWinPoint}).call(function(){t.gameStatus===v.default.TOP_WIN_ANIMATION&&t.changeStatus(h.SlotGameStatus.FINISH)}).start()}},e.prototype[A=h.SlotGameStatus.FINISH]=function(){this.isStartSpin=!1,this.changeButtonEnable(!1,this.gameService.isReplay),this.spinBtnAnimation(h.SpinStatus.NORMAL);var t=this.gameService.getBetItem().bet,e=this.gameService.gameController;this.gameStatus===v.default.TOP_WIN_ANIMATION&&(cc.Tween.stopAllByTarget(this),this.scrollTopWinPoint=this.totalWinPoint,cc.audioEngine.stopAllEffects(),cc.audioEngine.playEffect(e.audioController.topScrollEnd,!1)),e.slotAutoSetting.isAuto&&e.slotAutoSetting.updateAutoTimes(this.userDetail.totalMoney,t),3===this.userDetail.agentWalletType&&(this.userDetail.totalMoney=this.gameService.finalPoint,this.totalPointLabel.string=f.numberWithCommas(this.userDetail.totalMoney.toFixed(2))),e.slotAutoSetting.isAuto?(this.changeButtonEnable(!1,this.gameService.isReplay),this.gameStatus=h.SlotGameStatus.FINISH,this.clearAnimation(!0)):(this.gameStatus=h.SlotGameStatus.FINISH,this.changeButtonEnable(!0,this.gameService.isReplay)),this.isBackFromFreeGame&&(this.isBackFromFreeGame=!1,this.gameService.gameController.audioController.baseBgMusic&&cc.audioEngine.playMusic(this.gameService.gameController.audioController.baseBgMusic,!0)),this.gameService.gameController.startDelayPlayRandomVoice()},e.prototype.onSpin=function(){if(2===this.userDetail.userState&&!this.gameService.isReplay)return m.default.ShowSlotPromptSetting(d.default.BanBetErr(),null),void this.gameService.gameController.slotAutoSetting.reset();this.changeButtonEnable(!1,this.gameService.isReplay),this.gameStatus===v.default.TOP_WIN_ANIMATION?(console.log("onSpin TOP_WIN_ANIMATION"),this.changeStatus(h.SlotGameStatus.FINISH)):this.gameStatus===h.SlotGameStatus.FINISH?this.clearAnimation(!0):this.reelsController.stopAllSingleReel()},e.prototype.clearAnimation=function(t){t&&(this.totalWinPoint=0,this.topWin.close(),this.changeButtonEnable(!0,this.gameService.isReplay),this.changeStatus(h.SlotGameStatus.IDLE))},e.prototype.closeNode=function(){this.animation.multipleNodeActive(!1),this.reelsController.node.active=!1},e.prototype.beforeStart=function(){this.gameService.gameController.buttonGroupNode.active=!0,this.reelsController.node.active=!0,this.animation.multipleNodeActive(!0),this.animation.changeMultiple(0)},e.prototype.checkBigWin=function(t,e){return this.topWin.startAnimation(t,e)},r([C(N.default)],e.prototype,"topWin",void 0),r([C(_.default)],e.prototype,"animation",void 0),r([u.SlotGame.ChangeStatus({statusList:[h.SlotGameStatus.FINISH]})],e.prototype,o,null),r([u.SlotGame.CheckStatus({statusList:[h.SlotGameStatus.IDLE],clearNextGameStatus:!0})],e.prototype,i,null),r([u.SlotGame.CheckStatus({statusList:[h.SlotGameStatus.SEND_SERVER_SPIN],clearNextGameStatus:!0})],e.prototype,s,null),r([u.SlotGame.ChangeStatus({statusList:[h.SlotGameStatus.SPIN]})],e.prototype,I,null),r([u.SlotGame.ChangeStatus({statusList:[h.SlotGameStatus.SPIN_FINISH,h.SlotGameStatus.WAIT_FOR_FREE_GAME_LEAVE]})],e.prototype,T,null),r([u.SlotGame.ChangeStatus({statusList:[h.SlotGameStatus.ANIMATION_START]})],e.prototype,G,null),r([u.SlotGame.ChangeStatus({statusList:[h.SlotGameStatus.SPIN_FINISH,h.SlotGameStatus.ANIMATION_FINISH]})],e.prototype,R,null),r([u.SlotGame.ChangeStatus({statusList:[h.SlotGameStatus.FREE_ANIMATION_START]})],e.prototype,E,null),r([u.SlotGame.ChangeStatus({statusList:[h.SlotGameStatus.WAIT_FOR_FREE_GAME_LEAVE,h.SlotGameStatus.ANIMATION_FINISH]})],e.prototype,L,null),r([u.SlotGame.CheckStatus({statusList:[h.SlotGameStatus.SPIN_FINISH,h.SlotGameStatus.ANIMATION_FINISH,h.SlotGameStatus.WAIT_FOR_FREE_GAME_LEAVE,v.default.TOP_WIN_ANIMATION]})],e.prototype,A,null),r([u.SlotGame.CheckStatus({statusList:[h.SlotGameStatus.FINISH,h.SlotGameStatus.SPIN,h.SlotGameStatus.ANIMATION_START,h.SlotGameStatus.FREE_ANIMATION_START,v.default.TOP_WIN_ANIMATION]})],e.prototype,"onSpin",null),r([P("MW2BaseGame")],e)}(s.default);o.default=T,cc._RF.pop()},{"../../../../../common/language/BetLanguage":void 0,"../../../../../common/language/OtherLanguage":void 0,"../../../../../common/utils/CommonTool":void 0,"../../../../../common/utils/SingletonFactory":void 0,"../../../../common/script/ui/UIController":void 0,"../../../common/script/auto/SlotAutoSetting":void 0,"../../../common/script/data/ReelDataSetting":void 0,"../../../common/script/game/SlotBasicGame":void 0,"../../../common/script/game/SlotGameDescriptor":void 0,"../../../common/script/game/SlotGameEnums":void 0,"../../../common/script/symbol/SymbolItem":void 0,"../../../common/script/utils/SlotTopWin":void 0,"../animation/MW2Animation":"MW2Animation","../other/MW2SlotGameStatus":"MW2SlotGameStatus","../service/MW2GameService":"MW2GameService"}],MW2ExplodeReelsController:[function(t,e,o){"use strict";cc._RF.push(e,"758baR1AUVP9JfaAU/Kvojg","MW2ExplodeReelsController");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../common/script/reel/ExplodeReelsController"),a=t("../../../common/script/symbol/SymbolItem"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(t){this.animation=t},e.prototype.beforeDropAnimation=function(){var t=this,e=this.animation.winInfoListIndex,o=this.animation.spinItem.win_info_list[e];o&&this.forEach(function(e,i,n){var r=o.cascaded_frame[e][i],l=n.getComponent(a.default);if(l.name!==r+""){if(2==r||"2"===n.name){var s=t.reelsController.reelList[e],c=t.createNewSymbolNode(s,r,n);l=c.getComponent(a.default),s.symbolList[i+s.setting.topCount]=c}l.init(r),l.node.name=r+""}}),this.reelsController.reelList[0].scheduleOnce(function(){t.animation.winInfoListIndex++;var e=t.animation.winInfoListIndex>3?3:t.animation.winInfoListIndex;t.animation.changeMultiple(e)},.15)},e.prototype.createNewSymbolNode=function(t,e,o){var i=cc.instantiate(t.reelSetting.symbolPrefabList[e]);return i.setPosition(o.getPosition().clone()),i.setParent(t.node),i.setAnchorPoint(t.reelSetting.symbolAnchor),i.name=e+"",o.removeFromParent(!0),o.destroy(),i},e.prototype.finish=function(){var t=this,e=!1;this.forEach(function(o,i,n){if(n.getComponent(a.default).playIdle(),"2"===n.name&&!e){e=!0;var r=t.animation.audioController.hit;cc.audioEngine.playEffect(r,!1)}}),this.reelsController.scheduleOnce(function(){t.animation.startAnimation()},e?1:.5)},e}(r.default);o.default=l,cc._RF.pop()},{"../../../common/script/reel/ExplodeReelsController":void 0,"../../../common/script/symbol/SymbolItem":void 0}],MW2FreeGame:[function(t,e,o){"use strict";cc._RF.push(e,"ba5e08asUFHWINs70U0Q0vQ","MW2FreeGame");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function a(t){try{s(i.next(t))}catch(e){r(e)}}function l(t){try{s(i.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,l)}s((i=i.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(l){r=[6,l],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../common/script/game/SlotBasicGame"),c=t("./MW2FreeShowBg"),p=t("../../../../../common/utils/SingletonFactory"),u=t("../../../common/script/game/SlotGameEnums"),h=t("../service/MW2GameService"),m=t("../../../../../common/utils/CommonTool"),d=t("../../../common/script/game/SlotGameDescriptor"),S=t("../animation/MW2Animation"),g=t("../../../../../common/language/OtherLanguage"),f=t("../../../common/script/symbol/SymbolItem"),y=t("../../../common/script/spin/SpineSpinBtnAnimation"),v=cc._decorator,b=v.ccclass,N=v.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeShowBg=null,e.smallFreeNode=null,e.smallFreePortraitNode=null,e.smallTimesLabel=null,e.smallTotalTimesLabel=null,e.smallTimesPortraitLabel=null,e.smallTotalTimesPortraitLabel=null,e.animation=null,e.nowTotalTimes=0,e.winPoint=0,e.spinAudioId=-1,e}var o,i,s,v,_,I,P,C;return n(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this.gameService=p.SingletonFactory.getInstance(h.MW2GameService),this.spinBtnAnimation(u.SpinStatus.NORMAL),this.closeEvents(),this.animation.init(this.reelsController,this.animationFinish.bind(this),this.addWinPoint.bind(this),this.gameService.gameController.audioController)},e.prototype.beforeStart=function(){this.gameService.gameController.buttonGroupNode.active=!1,this.animation.multipleNodeActive(!0),this.animation.changeMultiple(0);var t=this.gameService.spinList[this.gameService.spinListIndex];this.nowTotalTimes=t.free_spin_total_times,this.freeShowBg.showGetFree(this.nowTotalTimes),this.smallFreeNode.active=!0,this.smallFreePortraitNode.active=!0,this.smallTimesLabel.string=m.numberWithCommas(this.nowTotalTimes),this.smallTimesPortraitLabel&&(this.smallTimesPortraitLabel.string=m.numberWithCommas(this.nowTotalTimes)),this.smallTotalTimesLabel&&(this.smallTotalTimesLabel.string=m.numberWithCommas(this.nowTotalTimes)),this.smallTotalTimesPortraitLabel&&(this.smallTotalTimesPortraitLabel.string=m.numberWithCommas(this.nowTotalTimes)),this.scrollWinPoint=0,this.spinBtn.node.getComponent(y.default).startFree()},e.prototype.start=function(){this.freeShowBg.reset(),this.reelsController.node.active=!0,this.startEvents(),this.changeStatus(u.SlotGameStatus.IDLE)},e.prototype.startPlayChangeMultiple=function(){var t=this;this.animation.audioController.freeMultipleRefresh&&(cc.log("play free multiple refresh"),cc.audioEngine.playEffect(this.animation.audioController.freeMultipleRefresh,!1)),this.freeShowBg.reset(),this.reelsController.node.active=!0,cc.tween(this).call(function(){t.animation.playFreeChangeMultiple(0)}).delay(.1).call(function(){t.animation.playFreeChangeMultiple(1)}).delay(.2).call(function(){t.animation.playFreeChangeMultiple(2)}).delay(.2).call(function(){t.animation.playFreeChangeMultiple(3)}).start()},e.prototype.animationFinish=function(){this.changeStatus(u.SlotGameStatus.ANIMATION_FINISH)},e.prototype.addWinPoint=function(t){this.scrollWinPoint+=t},Object.defineProperty(e.prototype,"scrollWinPoint",{get:function(){return this.winPoint},set:function(t){this.winPoint=t,this.winPointLabel.string=m.numberWithCommas(t.toFixed(2))},enumerable:!1,configurable:!0}),e.prototype.onSpin=function(){console.log("free onSpin"),this.changeButtonEnable(!1,this.gameService.isReplay),this.gameStatus===u.SlotGameStatus.FREE_ANIMATION_START?this.changeStatus(u.SlotGameStatus.ANIMATION_FINISH,!0):this.reelsController.stopAllSingleReel()},e.prototype[o=u.SlotGameStatus.IDLE]=function(){console.log("free IDLE"),this.animation.changeMultiple(0),this.changeButtonEnable(!1,this.gameService.isReplay,!0),this.spinBtnAnimation(u.SpinStatus.CLICK),this.nextGameStatus=u.SlotGameStatus.SEND_SERVER_SPIN,this.spinAudioId=cc.audioEngine.playEffect(this.gameService.gameController.audioController.freeSpinMusic,!1)},e.prototype[i=u.SlotGameStatus.SPIN]=function(){return a(this,void 0,void 0,function(){var t,e,o,i;return l(this,function(){for(t=this.gameService.spinList[this.gameService.spinListIndex],e=[],o=0;o<this.reelsController.reelList.length;o++)for(e[o]=[],i=t.win_info_list.length-1;i>=0;i--)e[o]=e[o].concat(t.win_info_list[i].ready_cascade_frame[o]);return cc.log("ready_cascade_frames:::::::::::::::",e),this.reelsController.setCascadeFrame(e),this.reelsController.setReelPosition(t.win_info_list[0].reel_position,t.win_info_list[0].origin_frame),this.orderIdLabel.setValue(g.default.SlotRoundStr(t.order_id)),this.gameStatus=u.SlotGameStatus.SPIN,[2]})})},e.prototype[s=u.SlotGameStatus.SEND_SERVER_SPIN]=function(){return a(this,void 0,void 0,function(){var t,e;return l(this,function(){return t=this.gameService.spinList[this.gameService.spinListIndex].free_spin_total_times-this.gameService.spinListIndex-1,cc.log("spinListIndex:::::::::::::::::::::::::",this.gameService.spinListIndex),cc.log("times:::::::::::::::::::::::::",t),this.smallTimesLabel.string=t+"",this.smallTimesPortraitLabel.string=t+"",e=this.gameService.spinList[this.gameService.spinListIndex],cc.log("preSpinInfo:::::::::::::::::::::",e),e&&"FreeGame"==e.game_state&&(e.win_point>0?(this.gameService.gameController.audioController.freeChangeMultipleVoices[0]&&cc.audioEngine.playEffect(this.gameService.gameController.audioController.freeChangeMultipleVoices[0],!1),this.reelsController.startPlayDragon()):this.reelsController.hideDragon()),0==this.gameService.spinListIndex&&this.reelsController.startPlayDragon(),this.gameStatus=u.SlotGameStatus.SEND_SERVER_SPIN,this.reelsController.startScroll(),[2]})})},e.prototype[v=u.SlotGameStatus.SPIN_FINISH]=function(){return a(this,void 0,void 0,function(){var t,e;return l(this,function(o){switch(o.label){case 0:return console.log("Free SPIN_FINISH"),this.changeButtonEnable(!1,this.gameService.isReplay),this.reelsController.hideDragon(),t=!1,this.reelsController.reelList.forEach(function(e){e.getMidSymbolList().forEach(function(e){"2"===e.name?t=!0:e.getComponent(f.default).playIdle()})}),[4,m.sleep(t?800:500)];case 1:return o.sent(),(e=this.gameService.spinList[this.gameService.spinListIndex]).win_point>0?this.nextGameStatus=u.SlotGameStatus.FREE_ANIMATION_START:this.nowTotalTimes<e.free_spin_total_times?this.nextGameStatus=u.SlotGameStatus.FREE_RE_TRIGGER:this.nextGameStatus=u.SlotGameStatus.FINISH,[2]}})})},e.prototype[_=u.SlotGameStatus.FREE_RE_TRIGGER]=function(){var t=this,e=this.gameService.spinList[this.gameService.spinListIndex],o=e.free_spin_total_times-this.nowTotalTimes;this.gameStatus=u.SlotGameStatus.FREE_RE_TRIGGER,cc.tween(this.freeShowBg.node).call(function(){cc.audioEngine.playEffect(t.gameService.gameController.audioController.bonus,!1)}).delay(1.7).call(function(){t.freeShowBg.showReTrigger(o)}).to(.3,{opacity:255}).call(function(){var i=.2*o;t.scrollReTrigger(i,e.free_spin_total_times)}).start()},e.prototype[I=u.SlotGameStatus.FREE_ANIMATION_START]=function(){console.log("FREE FREE_ANIMATION_START");var t=this.gameService.spinList[this.gameService.spinListIndex];this.animation.start(t)},e.prototype[P=u.SlotGameStatus.ANIMATION_FINISH]=function(){return a(this,void 0,void 0,function(){var t;return l(this,function(e){switch(e.label){case 0:return[4,m.sleep(250)];case 1:return e.sent(),t=this.gameService.spinList[this.gameService.spinListIndex],this.nowTotalTimes<t.free_spin_total_times?this.nextGameStatus=u.SlotGameStatus.FREE_RE_TRIGGER:this.nextGameStatus=u.SlotGameStatus.FINISH,[2]}})})},e.prototype[C=u.SlotGameStatus.FINISH]=function(){this.gameService.spinListIndex===this.gameService.spinList.length-1?this.freeGameEnd():this.nextGameStatus=u.SlotGameStatus.IDLE},e.prototype.freeGameEnd=function(){var t=this;this.closeEvents(),this.smallTimesLabel.string="0",this.smallTimesPortraitLabel.string="0",this.freeShowBg.showTotalWin(this.scrollWinPoint),this.gameService.gameController.audioController.freeTotalWinLoop&&cc.audioEngine.playEffect(this.gameService.gameController.audioController.freeTotalWinLoop,!1),cc.tween(this.freeShowBg.node).to(1,{opacity:255}).delay(3).call(function(){t.gameService.gameController.audioController.freeTotalWinEnd&&cc.audioEngine.playEffect(t.gameService.gameController.audioController.freeTotalWinEnd,!1)}).to(1,{opacity:0}).delay(1).call(function(){cc.audioEngine.stopMusic(),cc.audioEngine.playEffect(t.gameService.gameController.audioController.freeEnd,!1)}).delay(1).call(function(){t.gameService.gameController.changeFreeToBase()}).start()},e.prototype.scrollReTrigger=function(t,e){var o=this,i=this.nowTotalTimes-this.gameService.spinListIndex+1,n=this.gameService.spinList[this.gameService.spinListIndex-1].free_spin_total_times;cc.log("original total times::::::::::::::::::",n),cc.tween({val:0}).to(t,{val:e-this.nowTotalTimes-1},{progress:function(t,e,r,a){var l=e*a+i,s=e*a+n+1;o.gameService.gameController.audioController.freeSpinRoundUp&&parseInt(o.smallTimesLabel.string)!=parseInt(l.toFixed(0))&&cc.audioEngine.playEffect(o.gameService.gameController.audioController.freeSpinRoundUp,!1),o.smallTimesLabel.string=""+l.toFixed(0),o.smallTimesPortraitLabel.string=""+l.toFixed(0),o.smallTotalTimesLabel&&(o.smallTotalTimesLabel.string=s.toFixed(0)),o.smallTotalTimesPortraitLabel&&(o.smallTotalTimesPortraitLabel.string=s.toFixed(0))}}).delay(1.5).call(function(){return o.reTriggerFinish(e)}).start()},e.prototype.reTriggerFinish=function(t){var e=this;this.nowTotalTimes=t,cc.tween(this.freeShowBg.node).to(.5,{opacity:0}).call(function(){e.freeShowBg.reset();var o=t.toFixed(0);e.smallTimesLabel.string=o+"",e.smallTimesPortraitLabel.string=o+"",e.changeStatus(u.SlotGameStatus.FINISH)}).start()},e.prototype.closeNode=function(){this.reelsController.node.active=!1,this.animation.multipleNodeActive(!1),this.animation.changeMultiple(0),this.smallFreeNode.active=!1,this.smallFreePortraitNode.active=!1,this.freeShowBg.reset(),this.spinBtn.node.getComponent(y.default).endFree()},r([N(c.default)],e.prototype,"freeShowBg",void 0),r([N(cc.Node)],e.prototype,"smallFreeNode",void 0),r([N(cc.Node)],e.prototype,"smallFreePortraitNode",void 0),r([N(cc.Label)],e.prototype,"smallTimesLabel",void 0),r([N(cc.Label)],e.prototype,"smallTotalTimesLabel",void 0),r([N(cc.Label)],e.prototype,"smallTimesPortraitLabel",void 0),r([N(cc.Label)],e.prototype,"smallTotalTimesPortraitLabel",void 0),r([N(S.default)],e.prototype,"animation",void 0),r([d.SlotGame.CheckStatus({statusList:[u.SlotGameStatus.FINISH,u.SlotGameStatus.SPIN,u.SlotGameStatus.FREE_ANIMATION_START]})],e.prototype,"onSpin",null),r([d.SlotGame.ChangeStatus({statusList:[u.SlotGameStatus.FINISH]})],e.prototype,o,null),r([d.SlotGame.CheckStatus({statusList:[u.SlotGameStatus.SEND_SERVER_SPIN],clearNextGameStatus:!0})],e.prototype,i,null),r([d.SlotGame.CheckStatus({statusList:[u.SlotGameStatus.IDLE],clearNextGameStatus:!0})],e.prototype,s,null),r([d.SlotGame.ChangeStatus({statusList:[u.SlotGameStatus.SPIN]})],e.prototype,v,null),r([d.SlotGame.CheckStatus({statusList:[u.SlotGameStatus.SPIN_FINISH,u.SlotGameStatus.ANIMATION_FINISH]})],e.prototype,_,null),r([d.SlotGame.ChangeStatus({statusList:[u.SlotGameStatus.SPIN_FINISH]})],e.prototype,I,null),r([d.SlotGame.ChangeStatus({statusList:[u.SlotGameStatus.FREE_ANIMATION_START]})],e.prototype,P,null),r([d.SlotGame.ChangeStatus({statusList:[u.SlotGameStatus.SPIN_FINISH,u.SlotGameStatus.ANIMATION_FINISH,u.SlotGameStatus.FREE_RE_TRIGGER]})],e.prototype,C,null),r([b("MW2FreeGame")],e)}(s.default);o.default=_,cc._RF.pop()},{"../../../../../common/language/OtherLanguage":void 0,"../../../../../common/utils/CommonTool":void 0,"../../../../../common/utils/SingletonFactory":void 0,"../../../common/script/game/SlotBasicGame":void 0,"../../../common/script/game/SlotGameDescriptor":void 0,"../../../common/script/game/SlotGameEnums":void 0,"../../../common/script/spin/SpineSpinBtnAnimation":void 0,"../../../common/script/symbol/SymbolItem":void 0,"../animation/MW2Animation":"MW2Animation","../service/MW2GameService":"MW2GameService","./MW2FreeShowBg":"MW2FreeShowBg"}],MW2FreeShowBg:[function(t,e,o){"use strict";cc._RF.push(e,"c6a3fTdMjZPr5+c9x74WQWQ","MW2FreeShowBg");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../../common/utils/CommonTool"),l=cc._decorator,s=l.ccclass,c=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e.bgPortrait=null,e.getFreeNode=null,e.getFreePortraitNode=null,e.getFreeTimesLabel=null,e.getFreeTimesPortraitLabel=null,e.reTriggerNode=null,e.reTriggerPortraitNode=null,e.reTriggerTimesLabel=null,e.reTriggerTimesPortraitLabel=null,e.totalWinNode=null,e.totalWinPortraitNode=null,e.totalWinLabel=null,e.totalWinPortraitLabel=null,e._totalWinScore=0,e}return n(e,t),Object.defineProperty(e.prototype,"totalWinScore",{get:function(){return this._totalWinScore},set:function(t){this._totalWinScore=t,this.totalWinPortraitLabel&&(this.totalWinPortraitLabel.string=a.numberWithCommas(t.toFixed(2))),this.totalWinLabel&&(this.totalWinLabel.string=a.numberWithCommas(t.toFixed(2)))},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.node.active=!1,this.node.opacity=255,this.getFreeNode.active=!1,this.getFreePortraitNode&&(this.getFreePortraitNode.active=!1),this.reTriggerNode.active=!1,this.reTriggerPortraitNode&&(this.reTriggerPortraitNode.active=!1),this.totalWinNode.active=!1,this.totalWinPortraitNode&&(this.totalWinPortraitNode.active=!1),this.totalWinScore=0},e.prototype.showGetFree=function(t){this.reset(),this.getFreeTimesLabel.string=a.numberWithCommas(t),this.getFreeTimesPortraitLabel&&(this.getFreeTimesPortraitLabel.string=a.numberWithCommas(t)),this.node.active=!0,this.getFreeNode.active=!0,this.getFreePortraitNode&&(this.getFreePortraitNode.active=!0)},e.prototype.showReTrigger=function(t){this.reset(),this.reTriggerTimesLabel.string=a.numberWithCommas(t),this.reTriggerTimesPortraitLabel&&(this.reTriggerTimesPortraitLabel.string=a.numberWithCommas(t)),this.node.opacity=0,this.node.active=!0,this.reTriggerNode.active=!0,this.reTriggerPortraitNode&&(this.reTriggerPortraitNode.active=!0)},e.prototype.showTotalWin=function(t){this.reset(),this.startRunScore(t),this.node.opacity=0,this.node.active=!0,this.totalWinNode.active=!0,this.totalWinPortraitNode&&(this.totalWinPortraitNode.active=!0)},e.prototype.startRunScore=function(t){this.totalWinScore=0,cc.tween(this).to(3.5,{totalWinScore:t}).start()},r([c(cc.Node)],e.prototype,"bg",void 0),r([c(cc.Node)],e.prototype,"bgPortrait",void 0),r([c(cc.Node)],e.prototype,"getFreeNode",void 0),r([c(cc.Node)],e.prototype,"getFreePortraitNode",void 0),r([c(cc.Label)],e.prototype,"getFreeTimesLabel",void 0),r([c(cc.Label)],e.prototype,"getFreeTimesPortraitLabel",void 0),r([c(cc.Node)],e.prototype,"reTriggerNode",void 0),r([c(cc.Node)],e.prototype,"reTriggerPortraitNode",void 0),r([c(cc.Label)],e.prototype,"reTriggerTimesLabel",void 0),r([c(cc.Label)],e.prototype,"reTriggerTimesPortraitLabel",void 0),r([c(cc.Node)],e.prototype,"totalWinNode",void 0),r([c(cc.Node)],e.prototype,"totalWinPortraitNode",void 0),r([c(cc.Label)],e.prototype,"totalWinLabel",void 0),r([c(cc.Label)],e.prototype,"totalWinPortraitLabel",void 0),r([c()],e.prototype,"_totalWinScore",void 0),r([c()],e.prototype,"totalWinScore",null),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../../../common/utils/CommonTool":void 0}],MW2GameController:[function(t,e,o){"use strict";cc._RF.push(e,"79bd0t3naJN14i9dLKvIXtY","MW2GameController");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./game/MW2BaseGame"),l=t("../../common/script/auto/SlotAutoBtn"),s=t("../../common/script/auto/SlotAutoSetting"),c=t("../../../../common/utils/SingletonFactory"),p=t("../../../../common/data/model/AccountDataModel"),u=t("./service/MW2GameService"),h=t("../../../../common/utils/CommonTool"),m=t("./game/MW2FreeGame"),d=t("./other/MW2TurnScreen"),S=t("../../common/script/game/SlotGameEnums"),g=t("./MW2AudioController"),f=t("../../../../common/event/EventMng"),y=t("../../common/script/menu/SlotMenuBtn"),v=t("../../../../common/data/CommonData"),b=t("../../../common/script/ui/UIController"),N=t("./other/MW2SlotRulePageView"),_=t("../../common/script/machine/SlotMachineProperty"),I=cc._decorator,P=I.ccclass,C=I.property,T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.turnScreen=null,e.loadingNode=null,e.playerNameLabel=null,e.slotAutoBtn=null,e.slotAutoSetting=null,e.baseGame=null,e.freeGame=null,e.audioController=null,e.buttonGroupNode=null,e.rulePageView=null,e.slotMachineProperty=null,e}return n(e,t),e.prototype.start=function(){this.loadingNode.active=!0,this.accountDataModel=c.SingletonFactory.getInstance(p.default),this.playerNameLabel.string=this.accountDataModel.userDetail.name,this.gameService=c.SingletonFactory.getInstance(u.MW2GameService),this.gameService.initGameController(this),this.gameService.loadingNode=this.loadingNode,this.gameService.startEvent(),null!==this.gameService.finalPoint&&(this.accountDataModel.userDetail.totalMoney=this.gameService.finalPoint),this.baseGame.init(this.gameService.baseGameReel),this.baseGame.totalPointLabel.string=h.numberWithCommas(this.accountDataModel.userDetail.totalMoney.toFixed(2)),this.baseGame.betLabel.string=h.numberWithCommas(this.gameService.getBetItem().bet.toFixed(2)),this.baseGame.reelsController.node.active=!0,this.baseGame.userDetail=this.accountDataModel.userDetail,this.showHideFreeGame(!1),console.log(this.gameService.freeGameReel),this.freeGame.init(this.gameService.freeGameReel),this.freeGame.reelsController.node.active=!1,this.freeGame.userDetail=this.accountDataModel.userDetail,this.rulePageView.node.active=!0,this.rulePageView.init(this.gameService),this.turnScreen.init(this.slotAutoSetting,this.gameService),this.slotAutoSetting.init(this.slotAutoBtn,this.gameService),this.loadingNode.active=!1,this.gameService.checkReplayMode(this.playerNameLabel),this.baseGame.menuBtn.init(this.slotMachineProperty),this.startEvents()},e.prototype.showHideBaseGame=function(t){void 0===t&&(t=!1),t?this.baseGame.beforeStart():this.baseGame.closeNode(),this.turnScreen.bgNode.active=t,this.turnScreen.bgPortraitNode.active=t,this.turnScreen.ngReelFrame.active=t,this.turnScreen.ngReelFramePortrait&&(this.turnScreen.ngReelFramePortrait.active=t),this.turnScreen.ngInfoNode.active=t,this.turnScreen.ngPortraitInfoNode&&(this.turnScreen.ngPortraitInfoNode.active=t)},e.prototype.showHideFreeGame=function(t){void 0===t&&(t=!1),this.turnScreen.fgBgNode&&(this.turnScreen.fgBgNode.active=t),this.turnScreen.fgBgPortraitNode&&(this.turnScreen.fgBgPortraitNode.active=t),this.turnScreen.fgReelFrameNode&&(this.turnScreen.fgReelFrameNode.active=t),this.turnScreen.fgReelFrameNodePortrait&&(this.turnScreen.fgReelFrameNodePortrait.active=t),this.turnScreen.fgInfoNode&&(this.turnScreen.fgInfoNode.active=t),this.turnScreen.fgInfoPortraitNode&&(this.turnScreen.fgInfoPortraitNode.active=t)},e.prototype.changeBaseToFree=function(){var t=this;this.stopCountRandomVoice(),cc.tween(this.node).delay(.7).call(function(){cc.audioEngine.playMusic(t.audioController.freeStart,!0)}).call(function(){t.baseGame.reelsController.fadeOutReel(.8,125)}).delay(.8).call(function(){t.baseGame.reelsController.resetReelOpacity(),t.showHideBaseGame(!1),t.showHideFreeGame(!0),t.freeGame.beforeStart(),t.freeGame.reelsController.node.active=!0}).delay(2.5).call(function(){cc.log("start play change multiple"),t.freeGame.startPlayChangeMultiple()}).delay(1.4).call(function(){t.freeGame.start()}).start()},e.prototype.changeFreeToBase=function(){var t=this;cc.tween(this.node).call(function(){t.freeGame.reelsController.fadeOutReel(1.5,50)}).delay(1.5).call(function(){t.freeGame.closeNode(),t.freeGame.reelsController.resetReelOpacity(),t.showHideFreeGame(!1),t.showHideBaseGame(!0);for(var e=0;e<t.baseGame.reelsController.reelList.length;e++)t.baseGame.reelsController.reelList[e].node.opacity=0;t.baseGame.reelsController.fadeInReel(1.5)}).delay(1.5).call(function(){t.baseGame.changeStatus(S.SlotGameStatus.WAIT_FOR_FREE_GAME_LEAVE)}).start()},e.prototype.onBet=function(t,e){this.stopCountRandomVoice(),this.baseGame.clearAnimation(!1),this.baseGame.scrollWinPoint=0,this.gameService.changeBetIndex(this.accountDataModel.userDetail.totalMoney,"1"===e)?cc.audioEngine.playEffect(this.audioController.maxBet,!1):cc.audioEngine.playEffect(this.audioController.btnClick,!1),this.startDelayPlayRandomVoice()},e.prototype.goToLobby=function(){this.loadingNode.active=!0,this.close(),this.gameService.closeEvent(),this.gameService.closeConnect(),c.SingletonFactory.delete(u.MW2GameService),cc.director.preloadScene(v.MainSceneList.returnLobby,null,function(t){t?b.default.ShowSlotUnusualError(t):(cc.audioEngine.stopAll(),cc.director.loadScene(v.MainSceneList.returnLobby))})},e.prototype.getToLoadingScene=function(){this.loadingNode.active=!0,this.close(),this.gameService.closeEvent(),c.SingletonFactory.delete(u.MW2GameService),h.changeGameScene(this.gameService.getGameType(),"MW2LoadingSlotGame",null,function(t,e){t?b.default.ShowSlotUnusualError(t):cc.director.runScene(e)})},e.prototype.close=function(){this.stopCountRandomVoice(),this.closeEvents(),this.baseGame.close(),this.freeGame.close(),this.gameService.closeEvent(),cc.audioEngine.stopAll()},e.prototype.onReturn=function(){this.stopCountRandomVoice(),this.loadingNode.active=!0,this.gameService.updateSid()},e.prototype.startEvents=function(){f.default.on(y.SlotMenuType.RETURN,this.onReturn,this),f.default.on(b.default.CLOSE_UI_EVENT,this.onCloseUI,this)},e.prototype.closeEvents=function(){f.default.off(y.SlotMenuType.RETURN,this.onReturn,this),f.default.off(b.default.CLOSE_UI_EVENT,this.onCloseUI,this)},e.prototype.onCloseUI=function(){console.log("Close slot machine ui"),f.default.off(b.default.CLOSE_UI_EVENT,this.onCloseUI,this),this.startDelayPlayRandomVoice()},e.prototype.startDelayPlayRandomVoice=function(){var t=this,e=cc.tween(this),o=h.randomInteger(13,3);console.log("random delay time:::::::::::::::::::::",o),e.delay(o).call(function(){var e=h.randomInteger(t.audioController.randomVoices.length-1,0);console.log("random voice index:::::::::::::::",e),cc.audioEngine.playEffect(t.audioController.randomVoices[e],!1),t.startDelayPlayRandomVoice()}),e.start()},e.prototype.stopCountRandomVoice=function(){cc.Tween.stopAllByTarget(this)},r([C(d.default)],e.prototype,"turnScreen",void 0),r([C(cc.Node)],e.prototype,"loadingNode",void 0),r([C(cc.Label)],e.prototype,"playerNameLabel",void 0),r([C(l.default)],e.prototype,"slotAutoBtn",void 0),r([C(s.default)],e.prototype,"slotAutoSetting",void 0),r([C(a.default)],e.prototype,"baseGame",void 0),r([C(m.default)],e.prototype,"freeGame",void 0),r([C(g.default)],e.prototype,"audioController",void 0),r([C(cc.Node)],e.prototype,"buttonGroupNode",void 0),r([C(N.default)],e.prototype,"rulePageView",void 0),r([C(_.default)],e.prototype,"slotMachineProperty",void 0),r([P()],e)}(cc.Component);o.default=T,cc._RF.pop()},{"../../../../common/data/CommonData":void 0,"../../../../common/data/model/AccountDataModel":void 0,"../../../../common/event/EventMng":void 0,"../../../../common/utils/CommonTool":void 0,"../../../../common/utils/SingletonFactory":void 0,"../../../common/script/ui/UIController":void 0,"../../common/script/auto/SlotAutoBtn":void 0,"../../common/script/auto/SlotAutoSetting":void 0,"../../common/script/game/SlotGameEnums":void 0,"../../common/script/machine/SlotMachineProperty":void 0,"../../common/script/menu/SlotMenuBtn":void 0,"./MW2AudioController":"MW2AudioController","./game/MW2BaseGame":"MW2BaseGame","./game/MW2FreeGame":"MW2FreeGame","./other/MW2SlotRulePageView":"MW2SlotRulePageView","./other/MW2TurnScreen":"MW2TurnScreen","./service/MW2GameService":"MW2GameService"}],MW2GameService:[function(t,e,o){"use strict";cc._RF.push(e,"7d063r9aN1MGY0KaHldaHBd","MW2GameService");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.MW2GameService=void 0;var r=t("../../../common/script/service/SlotGameService"),a=t("../../../common/script/game/SlotGameEnums"),l=t("../../../../../common/utils/CommonTool"),s=function(t){function e(){var e=t.call(this,10027,20,[1,2,10,15,20])||this;return e.spinList=[],e}return n(e,t),e.prototype.updateSeamlessWalletPoint=function(e){if(t.prototype.updateSeamlessWalletPoint.call(this,e),!this.loadController){var o=this.gameController.baseGame;o.isStartSpin||(console.log("\u66f4\u65b0\u9322",o.userDetail),o.userDetail.totalMoney=this.finalPoint,this.updateLabel())}},e.prototype.g2CUpdateUserSID=function(e){t.prototype.g2CUpdateUserSID.call(this,e),this.gameController.goToLobby()},e.prototype.gameStart=function(t){console.log("gameStart","\u9577\u5ea6:"+t.length,"\u76ee\u524dIndex:"+this.spinListIndex,t),0===this.spinListIndex?this.gameController.baseGame.changeStatus(a.SlotGameStatus.SPIN):this.gameController.freeGame.changeStatus(a.SlotGameStatus.SPIN)},e.prototype.gameStartError=function(){},e.prototype.getToLoadingScene=function(){this.gameController.getToLoadingScene()},e.prototype.loginFinish=function(){this.loadingNode.active=!1},e.prototype.startReplay=function(){this.gameController.turnScreen.replayNode.active=!0;var t=this.updateLabel();t.changeButtonEnable(!1,this.isReplay),this.loadingNode.active=!1,t.onSpin()},e.prototype.endReplay=function(){this.gameController.turnScreen.replayNode.active=!1,this.gameController.slotAutoSetting.isAuto&&this.gameController.slotAutoSetting.onOpen(),this.updateLabel().changeButtonEnable(!0,this.isReplay),this.loadingNode.active=!1,this.gameController.turnScreen.replayNode.active=!1},e.prototype.updateLabel=function(){var t=this.gameController.baseGame;return t.totalPointLabel.string=l.numberWithCommas(t.userDetail.totalMoney.toFixed(2)),this.updateBetLabel(this.getBetItem()),t},e.prototype.updateBetLabel=function(t){this.gameController&&(cc.Tween.stopAllByTarget(this.gameController.baseGame.betLabel.node),this.gameController.baseGame.betLabel.string=l.numberWithCommas(t.bet.toFixed(2)),cc.tween(this.gameController.baseGame.betLabel.node).to(.1,{scale:1.15}).to(.1,{scale:1}).start())},e.prototype.updatePointLabel=function(){},e.prototype.initGameController=function(t){this.gameController=t},e}(r.SlotGameService);o.MW2GameService=s,cc._RF.pop()},{"../../../../../common/utils/CommonTool":void 0,"../../../common/script/game/SlotGameEnums":void 0,"../../../common/script/service/SlotGameService":void 0}],MW2HuSymbolItem:[function(t,e,o){"use strict";cc._RF.push(e,"22a56fMCGlCg7pUb7z4jAjH","MW2HuSymbolItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../common/script/symbol/SymbolItem"),l=t("../../../common/script/data/ReelDataSetting"),s=cc._decorator,c=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.huSp=null,e}return n(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.huSp.clearTracks(),this.huSp.setCompleteListener(null),this.huSp.setAnimation(0,"HU_1",!0),this.changeSpeed()},e.prototype.playIdle=function(){var t=this;this.huSp.setAnimation(0,"HU_2",!1),this.huSp.setCompleteListener(function(){t.init()})},e.prototype.changeSpeed=function(){var t=l.ReelDataSettingObj.getSpeedIndex();this.huSp.timeScale=[1.2,1.4,1.6,1.6][t]},r([p(sp.Skeleton)],e.prototype,"huSp",void 0),r([c],e)}(a.default);o.default=u,cc._RF.pop()},{"../../../common/script/data/ReelDataSetting":void 0,"../../../common/script/symbol/SymbolItem":void 0}],MW2LoadSlotGameController:[function(t,e,o){"use strict";cc._RF.push(e,"164a8y2FM5PJ5TfpIKmNHze","MW2LoadSlotGameController");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./service/MW2GameService"),l=t("../../../../common/utils/SingletonFactory"),s=t("../../common/script/controller/SlotLoadController"),c=cc._decorator,p=c.ccclass,u=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgAudio=null,e.gameSceneName="MW2SlotGame",e}return n(e,t),e.prototype.beforeStart=function(){cc.audioEngine.playMusic(this.bgAudio,!0),this.gameService=l.SingletonFactory.getInstance(a.MW2GameService),window.version.set("\u9ebb\u5c07\u4f86\u4e862("+this.gameService.getGameType()+")","0.0.10")},e.prototype.onDestroy=function(){},r([u({type:cc.AudioClip})],e.prototype,"bgAudio",void 0),r([p],e)}(s.default);o.default=h,cc._RF.pop()},{"../../../../common/utils/SingletonFactory":void 0,"../../common/script/controller/SlotLoadController":void 0,"./service/MW2GameService":"MW2GameService"}],MW2ReelsController:[function(t,e,o){"use strict";cc._RF.push(e,"994b0eggKJAfozZRO43evkm","MW2ReelsController");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../common/script/reel/ReelsController"),l=t("../service/MW2GameService"),s=t("../../../../../common/utils/SingletonFactory"),c=t("../../../common/script/symbol/SymbolItem"),p=t("../../../common/script/data/ReelDataSetting"),u=t("../../../../../common/utils/GRTool"),h=cc._decorator,m=h.ccclass,d=h.property,S=h.executeInEditMode,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.expectSp=null,e.fgDragon=null,e.darkNode=null,e.expectAudioId=null,e.expectPositionX=[-209,-106,0,109,216],e.expectPositionY=[8,8,20,8,8],e.expectPortraitPositionY=[-1,-1,12,-1,0],e.strip=-1,e.stopAllHitSound=!1,e}return n(e,t),e.prototype.beforeScroll=function(){this.stopAllHitSound=!1,t.prototype.beforeScroll.call(this)},e.prototype.changeOrientation=function(t){t?this.strip>-1&&this.expectSp&&(this.expectSp.node.y=this.expectPositionY[this.strip]):this.strip>-1&&this.expectSp&&(this.expectSp.node.y=this.expectPortraitPositionY[this.strip])},e.prototype.startExpect=function(t){this.expectSp.node.active=!0,this.strip=t,this.expectSp.node.x=this.expectPositionX[t],u.default.checkLandscape()?this.expectSp.node.y=this.expectPositionY[t]:this.expectSp.node.y=this.expectPortraitPositionY[t],cc.log("expect:::::::::::::",t),this.expectSp.clearTracks(),this.expectSp.setToSetupPose(),this.expectSp.setAnimation(0,"Expect",!0),this.expectAudioId=cc.audioEngine.playEffect(this.audioController.expect,!1)},e.prototype.stopExpect=function(t){this.expectSp.node.active=!1,this.expectAudioId&&cc.audioEngine.stopEffect(this.expectAudioId),this.strip=-1,this.reelList[t].expectSymbolIdList.indexOf(2)>-1?(console.log("strip::::",t,"::::expect success::::::::::::::::::"),this.audioController.expectSuccess&&cc.audioEngine.playEffect(this.audioController.expectSuccess,!1)):(console.log("strip::::",t,"::::expect failed::::::::::::::::::"),this.audioController.expectFailed&&cc.audioEngine.playEffect(this.audioController.expectFailed,!1))},e.prototype.expectCount=function(t){for(var e=this.reelSetting.expectSetting.itemList[0],o=t.length,i=0;i<o;i++)2==t[i]&&e.count++},e.prototype.initSingleReels=function(e){t.prototype.initSingleReels.call(this,e);var o=s.SingletonFactory.getInstance(l.MW2GameService);this.audioController=o.gameController.audioController},e.prototype.singleReelFinish=function(e){for(var o=this.reelList[e].getMidSymbolList(),i=o.length,n=!1,r=0;r<i;r++){var a=o[r];"2"===a.name&&(a.getComponent(c.default).playIdle(),n||(n=!0,(p.ReelDataSettingObj.getAllStop()&&!this.stopAllHitSound||!p.ReelDataSettingObj.getAllStop())&&(this.stopAllHitSound=!0,cc.audioEngine.playEffect(this.audioController.hit,!1))))}t.prototype.singleReelFinish.call(this,e)},e.prototype.startPlayDragon=function(){var t=this;this.fgDragon&&(this.fgDragon.node.x=this.expectPositionX[2],this.fgDragon.node.y=this.expectPositionY[2]-7,this.fgDragon.node.active=!0,cc.log("speedIndex::::::::::::::::::",p.ReelDataSettingObj.getSpeedIndex()),this.fgDragon.clearTracks(),this.fgDragon.setToSetupPose(),this.fgDragon.timeScale=[1,1.2,1.3,1.4,1.5][p.ReelDataSettingObj.getSpeedIndex()],this.audioController.fgDragonFly&&cc.audioEngine.playEffect(this.audioController.fgDragonFly,!1),this.darkNode&&(this.darkNode.opacity=125,this.darkNode.active=!0),this.fgDragon.setAnimation(0,"Expect-mahjong",!1),this.fgDragon.setCompleteListener(function(){t.fgDragon.node.active=!1,t.darkNode&&(t.darkNode.active=!1),t.fgDragon.setCompleteListener(null)}))},e.prototype.hideDragon=function(){this.fgDragon&&(this.fgDragon.node.active=!1,this.fgDragon.setCompleteListener(null)),this.darkNode&&(this.darkNode.active=!1)},e.prototype.fadeOutReel=function(t,e){void 0===t&&(t=.4),void 0===e&&(e=125);for(var o=0;o<this.reelList.length;o++)cc.tween(this.reelList[o].node).to(t,{opacity:e}).start()},e.prototype.fadeInReel=function(t){void 0===t&&(t=.4);for(var e=0;e<this.reelList.length;e++)cc.tween(this.reelList[e].node).to(t,{opacity:255}).start()},e.prototype.resetReelOpacity=function(){for(var t=0;t<this.reelList.length;t++)cc.Tween.stopAllByTarget(this.reelList[t].node),this.reelList[t].node.opacity=255},r([d(sp.Skeleton)],e.prototype,"expectSp",void 0),r([d(sp.Skeleton)],e.prototype,"fgDragon",void 0),r([d(cc.Node)],e.prototype,"darkNode",void 0),r([m,S],e)}(a.default);o.default=g,cc._RF.pop()},{"../../../../../common/utils/GRTool":void 0,"../../../../../common/utils/SingletonFactory":void 0,"../../../common/script/data/ReelDataSetting":void 0,"../../../common/script/reel/ReelsController":void 0,"../../../common/script/symbol/SymbolItem":void 0,"../service/MW2GameService":"MW2GameService"}],MW2SingleReel:[function(t,e,o){"use strict";cc._RF.push(e,"4b3aapsDaxN4b4axdjHgDAw","MW2SingleReel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../common/script/reel/SingleReel/SingleReel"),l=t("../../../common/script/symbol/SymbolItem"),s=t("../service/MW2GameService"),c=t("../../../../../common/utils/SingletonFactory"),p=cc._decorator,u=p.ccclass,h=(p.property,p.executeInEditMode),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.goldenStripList=[1,2,3],e.goldenFrameIndex=[0,1,2,3],e.step=0,e}return n(e,t),e.prototype.initMathReel=function(e){t.prototype.initMathReel.call(this,e),this.gameService=c.SingletonFactory.getInstance(s.MW2GameService)},e.prototype.beforeScroll=function(){this.step=0,t.prototype.beforeScroll.call(this)},e.prototype.checkSymbolId=function(e,o){return this.step++,t.prototype.checkSymbolId.call(this,e,o)},e.prototype.initSymbol=function(t,e){var o=t.getComponent(l.default);o&&o.init(e)},r([u,h],e)}(a.default);o.default=m,cc._RF.pop()},{"../../../../../common/utils/SingletonFactory":void 0,"../../../common/script/reel/SingleReel/SingleReel":void 0,"../../../common/script/symbol/SymbolItem":void 0,"../service/MW2GameService":"MW2GameService"}],MW2SlotGameStatus:[function(t,e,o){"use strict";cc._RF.push(e,"c924cgUCGxIWpGrjEvULEJF","MW2SlotGameStatus"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../common/script/game/SlotGameEnums");o.default={TOP_WIN_ANIMATION:i.SLOT_GAME_KEY+"TOP_WIN_ANIMATION"},cc._RF.pop()},{"../../../common/script/game/SlotGameEnums":void 0}],MW2SlotRulePageView:[function(t,e,o){"use strict";cc._RF.push(e,"94ee9Dl01dIrZ8JP4zPogIm","MW2SlotRulePageView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../common/script/menu/rule/SlotRulePageView"),l=t("../../../../../common/utils/CommonTool"),s=cc._decorator,c=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.payTable1=[],e.payTable2=[],e.maxTimesLabel=[],e}return n(e,t),e.prototype.setPayTableLabel=function(){var t=this,e=this.service.slotSetting.free_game_total_times;this.maxTimesLabel[0].string=""+e,this.maxTimesLabel[1].string=""+e,this.service.basePayTable.forEach(function(e){var o=t.payTable1[0].getChildByName("symbol"+e.symbol_id),i=t.payTable1[1].getChildByName("symbol"+e.symbol_id);if(o||(o=t.payTable2[0].getChildByName("symbol"+e.symbol_id),i=t.payTable2[1].getChildByName("symbol"+e.symbol_id)),o){var n=l.numberWithCommas(t.calculatePayTable(e.symbol_id,e.prize));o.getChildByName(""+e.combo_count).getComponent(cc.Label).string=n,i.getChildByName(""+e.combo_count).getComponent(cc.Label).string=n}})},e.prototype.calculatePayTable=function(t,e){return 2===t||1===t?this.service.getBetItem().bet*e:e*this.service.getBetItem().betIndex/this.service.getBetItem().deno},r([p(cc.Node)],e.prototype,"payTable1",void 0),r([p(cc.Node)],e.prototype,"payTable2",void 0),r([p(cc.Label)],e.prototype,"maxTimesLabel",void 0),r([c],e)}(a.default);o.default=u,cc._RF.pop()},{"../../../../../common/utils/CommonTool":void 0,"../../../common/script/menu/rule/SlotRulePageView":void 0}],MW2SymbolItem:[function(t,e,o){"use strict";cc._RF.push(e,"0e4e85w0RtCM77NJhtmvfn5","MW2SymbolItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../common/script/symbol/SymbolItem"),l=t("../../../common/script/data/ReelDataSetting"),s=cc._decorator,c=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlas=null,e.staticSprite=null,e.normalSp=null,e.goldSp=null,e.wildSp=null,e.wildIdleTimeScale=1.5,e.spTimeScale=1.5,e.wildBurnTimeScale=2,e.winBoxSp=null,e.isGolden=!1,e.spineAnimationKey={0:"WILD_3",3:"green",4:"red",5:"white",6:"8W",7:"5dots",8:"5bamboo",9:"3dots",10:"2dots",11:"2bamboo"},e}return n(e,t),e.prototype.start=function(){var t=this;this.winBoxSp.setEventListener(function(e,o){"action"===o.data.name?t.startExplode():"wild"===o.data.name&&t.isGolden&&t.changeToWild()})},e.prototype.reset=function(){this.staticSprite.node.active=!1,this.staticSprite&&(this.staticSprite.node.scale=1),this.normalSp.node.active=!1,this.goldSp.node.active=!1,this.wildSp.node.active=!1,this.wildSp.timeScale=this.wildIdleTimeScale,this.winBoxSp.node.active=!1,this.changeSpeed()},e.prototype.init=function(t){this.reset(),this.isGolden=t>11,this.id=this.isGolden?t-9:t;var e=this.isGolden?"_gold":"";0==this.id&&(this.staticSprite.node.scale=.8),this.staticSprite.spriteFrame=this.atlas.getSpriteFrame(this.id+e),this.staticSprite.node.active=!0},e.prototype.changeSpeed=function(){var t=l.ReelDataSettingObj.getSpeedIndex(),e=[1.5,1.8,2.1,2.1];this.wildIdleTimeScale=e[t],this.wildBurnTimeScale=[2,2.1,2.2,2.2][t],this.spTimeScale=e[t]},e.prototype.playIdle=function(){"0"===this.node.name&&(this.reset(),this.wildSp.node.x=0,this.wildSp.node.y=-3,this.wildSp.node.active=!0,this.wildSp.clearTracks(),this.wildSp.setToSetupPose(),this.wildSp.setAnimation(0,"WILD_2",!0))},e.prototype.playWin=function(t){return void 0===t&&(t=!1),t&&(this.winBoxSp.node.active=!0,this.winBoxSp.clearTracks(),this.winBoxSp.setAnimation(0,"animation",!1)),this.isGolden?(this.node.name="0",this.id=0,this.isExplode=!1):this.isExplode=!0,this.isGolden},e.prototype.startExplode=function(){this.staticSprite.node.active=!1,0===this.id?(this.wildSp&&(this.wildSp.node.x=0,this.wildSp.node.y=0),this.playExplodeSpine(this.wildSp)):this.isGolden?this.playExplodeSpine(this.goldSp):this.playExplodeSpine(this.normalSp)},e.prototype.playExplodeSpine=function(t){t.node.active=!0,t.node.setParent(this.node),t.clearTracks(),t.setToSetupPose(),t.timeScale=this.spTimeScale,t.setAnimation(0,this.spineAnimationKey[this.node.name],!1)},e.prototype.changeToWild=function(){this.reset(),this.isGolden=!1,this.node.name="0",this.id=0,this.wildSp.node.x=0,this.wildSp.node.y=-2,this.wildSp.node.active=!0,this.wildSp.timeScale=this.wildBurnTimeScale,this.wildSp.setAnimation(0,"WILD_1",!1)},r([p(cc.SpriteAtlas)],e.prototype,"atlas",void 0),r([p(cc.Sprite)],e.prototype,"staticSprite",void 0),r([p(sp.Skeleton)],e.prototype,"normalSp",void 0),r([p(sp.Skeleton)],e.prototype,"goldSp",void 0),r([p(sp.Skeleton)],e.prototype,"wildSp",void 0),r([p(sp.Skeleton)],e.prototype,"winBoxSp",void 0),r([c],e)}(a.default);o.default=u,cc._RF.pop()},{"../../../common/script/data/ReelDataSetting":void 0,"../../../common/script/symbol/SymbolItem":void 0}],MW2TurnScreen:[function(t,e,o){"use strict";cc._RF.push(e,"4432a472kdLSInA268px4GQ","MW2TurnScreen");var i=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../common/script/utils/SlotTurnScreen"),r=t("../../../../common/script/ui/UIController"),a=t("../game/MW2FreeShowBg"),l=t("../../../common/script/data/SlotConfig"),s=cc._decorator,c=s.ccclass,p=s.property,u=function(){function t(){this.mainMask=null,this.bgNode=null,this.fgBgNode=null,this.bgPortraitNode=null,this.fgBgPortraitNode=null,this.ngInfoNode=null,this.ngPortraitInfoNode=null,this.fgInfoNode=null,this.fgInfoPortraitNode=null,this.ngReelFrame=null,this.ngReelFramePortrait=null,this.fgReelFrameNode=null,this.fgReelFrameNodePortrait=null,this.fgFreeTimeNode=null,this.fgFreeTimePortraitNode=null,this.gameNode=null,this.ngReelNode=null,this.fgReelNode=null,this.addBetBtnNode=null,this.subBetBtnNode=null,this.spinBtnNode=null,this.autoBtnNode=null,this.menuBtnNode=null,this.orderIdLabelNode=null,this.playerNameLabelNode=null,this.totalPointLabelNode=null,this.betLabelNode=null,this.winLabelNode=null,this.turnScreen=null,this.replayNode=null,this.loadingWidget=null,this.multipleNode=null,this.multiplePortraitNode=null,this.freeShow=null,this.machineNoLabelNode=null}return t.prototype.init=function(t,e){this.gameService=e,this.replayNode.active=!1,this.slotAutoSetting=t,this.turnScreen.node.on(n.default.CHANGE_ORIENTATION,this.change,this),this.change(this.turnScreen.isLandscape)},t.prototype.change=function(t){r.default.changeSlotRecordUIOrientation(t),r.default.changeSlotSettingOrientation(t),this.slotAutoSetting.changeOrientation(t),this.gameService.gameController.rulePageView.changeOrientation(t),this.gameService.gameController.baseGame.menuBtn.changeOrientation(t),this.bgNode.opacity=t?255:0,this.bgPortraitNode.opacity=t?0:255,this.fgBgPortraitNode&&(this.fgBgPortraitNode.opacity=t?0:255),this.ngInfoNode&&(this.ngInfoNode.opacity=t?255:0),this.ngPortraitInfoNode&&(this.ngPortraitInfoNode.opacity=t?0:255),this.fgInfoNode&&(this.fgInfoNode.opacity=t?255:0),this.fgInfoPortraitNode&&(this.fgInfoPortraitNode.opacity=t?0:255),this.ngReelFrame&&(this.ngReelFrame.opacity=t?255:0),this.ngReelFramePortrait&&(this.ngReelFramePortrait.opacity=t?0:255),this.fgReelFrameNode&&(this.fgReelFrameNode.opacity=t?255:0),this.fgReelFrameNodePortrait&&(this.fgReelFrameNodePortrait.opacity=t?0:255),this.fgFreeTimeNode&&(this.fgFreeTimeNode.opacity=t?255:0),this.fgFreeTimePortraitNode&&(this.fgFreeTimePortraitNode.opacity=t?0:255),this.gameService.gameController.baseGame.animation.numBoxNode&&(t?(this.gameService.gameController.baseGame.animation.numBoxNode.x=4.609,this.gameService.gameController.baseGame.animation.numBoxNode.y=51.125):(this.gameService.gameController.baseGame.animation.numBoxNode.x=4.609,this.gameService.gameController.baseGame.animation.numBoxNode.y=217)),this.changeShowFree(t),this.changeGame(t),this.changeButton(t),this.changeLabel(t),this.changeOther(t),this.loadingWidget.updateAlignment()},t.prototype.changeGame=function(t){t?(this.gameNode.setPosition(cc.v2(0,0)),this.gameService.gameController.baseGame.reelsController.changeOrientation(t),this.gameService.gameController.freeGame.reelsController.changeOrientation(t)):(this.gameNode.setPosition(cc.v2(0,199)),this.gameService.gameController.baseGame.reelsController.changeOrientation(t),this.gameService.gameController.freeGame.reelsController.changeOrientation(t)),this.multipleNode.opacity=t?255:0,this.multiplePortraitNode.opacity=t?0:255},t.prototype.changeButton=function(t){t?(this.subBetBtnNode.setPosition(cc.v2(540,-82)),this.addBetBtnNode.setPosition(cc.v2(540,205)),this.autoBtnNode.setPosition(cc.v2(540,-194)),this.spinBtnNode.setPosition(cc.v2(540,61)),this.menuBtnNode.setPosition(cc.v2(-580,-311.161))):(this.subBetBtnNode.setPosition(cc.v2(-181,-520)),this.addBetBtnNode.setPosition(cc.v2(169,-520)),this.autoBtnNode.setPosition(cc.v2(299,-590)),this.spinBtnNode.setPosition(cc.v2(-6,-503)),this.menuBtnNode.setPosition(cc.v2(-300,-590)))},t.prototype.changeLabel=function(t){t?(this.labelSetting(this.betLabelNode,240,cc.v2(146.865,-320),cc.Label.HorizontalAlign.CENTER),this.labelSetting(this.winLabelNode,265,cc.v2(489.426,-320),cc.Label.HorizontalAlign.CENTER),this.labelSetting(this.totalPointLabelNode,240,cc.v2(-110.287,-320),cc.Label.HorizontalAlign.CENTER),this.labelSetting(this.orderIdLabelNode,240,cc.v2(632,340.364),cc.Label.HorizontalAlign.RIGHT),this.labelSetting(this.playerNameLabelNode,240,cc.v2(-380.809,-325),cc.Label.HorizontalAlign.CENTER),this.labelSetting(this.machineNoLabelNode,240,cc.v2(630,300),cc.Label.HorizontalAlign.RIGHT),this.orderIdLabelNode.setAnchorPoint(1,.5),this.machineNoLabelNode.setAnchorPoint(1,.5),this.betLabelNode.setAnchorPoint(.5,.5),this.betLabelNode.getComponent(cc.Label).fontSize=40):(this.labelSetting(this.betLabelNode,180,cc.v2(0,-362),cc.Label.HorizontalAlign.RIGHT),this.labelSetting(this.winLabelNode,200,cc.v2(252,-291),cc.Label.HorizontalAlign.RIGHT),this.labelSetting(this.totalPointLabelNode,200,cc.v2(-101,-291),cc.Label.HorizontalAlign.RIGHT),this.labelSetting(this.playerNameLabelNode,200,cc.v2(252,-366),cc.Label.HorizontalAlign.RIGHT),this.betLabelNode.setAnchorPoint(1,.5),this.betLabelNode.getComponent(cc.Label).fontSize=35,l.default.machineTableId?(this.orderIdLabelNode.setAnchorPoint(cc.v2(1,.5)),this.labelSetting(this.orderIdLabelNode,300,cc.v2(350,-222),cc.Label.HorizontalAlign.RIGHT),this.machineNoLabelNode.setAnchorPoint(cc.v2(0,.5)),this.labelSetting(this.machineNoLabelNode,300,cc.v2(-350,-222),cc.Label.HorizontalAlign.LEFT)):(this.orderIdLabelNode.setAnchorPoint(cc.v2(.5,.5)),this.labelSetting(this.orderIdLabelNode,300,cc.v2(0,-222),cc.Label.HorizontalAlign.CENTER)))},t.prototype.changeShowFree=function(t){this.freeShow&&(this.freeShow.bg&&(this.freeShow.bg.opacity=t?255:0),this.freeShow.bgPortrait&&(this.freeShow.bgPortrait.opacity=t?0:255),this.freeShow.getFreeNode&&(this.freeShow.getFreeNode.opacity=t?255:0),this.freeShow.getFreePortraitNode&&(this.freeShow.getFreePortraitNode.opacity=t?0:255),this.freeShow.reTriggerNode&&(this.freeShow.reTriggerNode.opacity=t?255:0),this.freeShow.reTriggerPortraitNode&&(this.freeShow.reTriggerPortraitNode.opacity=t?0:255),this.freeShow.totalWinNode&&(this.freeShow.totalWinNode.opacity=t?255:0),this.freeShow.totalWinPortraitNode&&(this.freeShow.totalWinPortraitNode.opacity=t?0:255))},t.prototype.labelSetting=function(t,e,o,i){t.setPosition(o),t.width=e,t.getComponent(cc.Label).horizontalAlign=i},t.prototype.changeOther=function(t){var e=cc.view.getDesignResolutionSize();this.mainMask.width=e.width,this.mainMask.height=e.height,t?this.replayNode.setPosition(cc.v2(-530.145,313.64)):this.replayNode.setPosition(cc.v2(0,-160))},i([p(cc.Node)],t.prototype,"mainMask",void 0),i([p(cc.Node)],t.prototype,"bgNode",void 0),i([p(cc.Node)],t.prototype,"fgBgNode",void 0),i([p(cc.Node)],t.prototype,"bgPortraitNode",void 0),i([p(cc.Node)],t.prototype,"fgBgPortraitNode",void 0),i([p(cc.Node)],t.prototype,"ngInfoNode",void 0),i([p(cc.Node)],t.prototype,"ngPortraitInfoNode",void 0),i([p(cc.Node)],t.prototype,"fgInfoNode",void 0),i([p(cc.Node)],t.prototype,"fgInfoPortraitNode",void 0),i([p(cc.Node)],t.prototype,"ngReelFrame",void 0),i([p(cc.Node)],t.prototype,"ngReelFramePortrait",void 0),i([p(cc.Node)],t.prototype,"fgReelFrameNode",void 0),i([p(cc.Node)],t.prototype,"fgReelFrameNodePortrait",void 0),i([p(cc.Node)],t.prototype,"fgFreeTimeNode",void 0),i([p(cc.Node)],t.prototype,"fgFreeTimePortraitNode",void 0),i([p(cc.Node)],t.prototype,"gameNode",void 0),i([p(cc.Node)],t.prototype,"ngReelNode",void 0),i([p(cc.Node)],t.prototype,"fgReelNode",void 0),i([p(cc.Node)],t.prototype,"addBetBtnNode",void 0),i([p(cc.Node)],t.prototype,"subBetBtnNode",void 0),i([p(cc.Node)],t.prototype,"spinBtnNode",void 0),i([p(cc.Node)],t.prototype,"autoBtnNode",void 0),i([p(cc.Node)],t.prototype,"menuBtnNode",void 0),i([p(cc.Node)],t.prototype,"orderIdLabelNode",void 0),i([p(cc.Node)],t.prototype,"playerNameLabelNode",void 0),i([p(cc.Node)],t.prototype,"totalPointLabelNode",void 0),i([p(cc.Node)],t.prototype,"betLabelNode",void 0),i([p(cc.Node)],t.prototype,"winLabelNode",void 0),i([p(n.default)],t.prototype,"turnScreen",void 0),i([p(cc.Node)],t.prototype,"replayNode",void 0),i([p(cc.Widget)],t.prototype,"loadingWidget",void 0),i([p(cc.Node)],t.prototype,"multipleNode",void 0),i([p(cc.Node)],t.prototype,"multiplePortraitNode",void 0),i([p({type:a.default})],t.prototype,"freeShow",void 0),i([p(cc.Node)],t.prototype,"machineNoLabelNode",void 0),i([c("MW2TurnScreen")],t)}();o.default=u,cc._RF.pop()},{"../../../../common/script/ui/UIController":void 0,"../../../common/script/data/SlotConfig":void 0,"../../../common/script/utils/SlotTurnScreen":void 0,"../game/MW2FreeShowBg":"MW2FreeShowBg"}]},{},["MW2AudioController","MW2GameController","MW2LoadSlotGameController","MW2Animation","MW2ExplodeReelsController","MW2BaseGame","MW2FreeGame","MW2FreeShowBg","MW2SlotGameStatus","MW2SlotRulePageView","MW2TurnScreen","MW2ReelsController","MW2SingleReel","MW2GameService","MW2HuSymbolItem","MW2SymbolItem"]);